<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Precs - Sistema de Precatórios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark precs-navbar border-bottom shadow-lg">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="{{ url_for('index') }}">
                <div class="logo-container me-3">
                    <svg width="50" height="50" viewBox="0 0 200 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="goldGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#D4AF37;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#B8860B;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#8B6914;stop-opacity:1" />
                            </linearGradient>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="1" result="coloredBlur"/>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>
                        <!-- P -->
                        <path d="M10 10 L10 45 L25 45 Q35 45 35 35 Q35 25 25 25 L20 25 L20 10 Z" fill="url(#goldGradient)" filter="url(#glow)"/>
                        <!-- R -->
                        <path d="M45 10 L45 45 L60 45 Q70 45 70 35 Q70 25 60 25 L55 25 L55 10 Z M55 30 L70 45" stroke="url(#goldGradient)" stroke-width="3" fill="none" filter="url(#glow)"/>
                        <path d="M45 10 L45 45 L60 45 Q70 45 70 35 Q70 25 60 25 L55 25 L55 10 Z" fill="url(#goldGradient)" filter="url(#glow)"/>
                        <line x1="55" y1="30" x2="70" y2="45" stroke="url(#goldGradient)" stroke-width="3" filter="url(#glow)"/>
                        <!-- E -->
                        <path d="M80 10 L80 45 L105 45 L105 38 L87 38 L87 28 L103 28 L103 21 L87 21 L87 17 L105 17 L105 10 Z" fill="url(#goldGradient)" filter="url(#glow)"/>
                        <!-- C -->
                        <path d="M115 10 Q105 10 105 27.5 Q105 45 115 45 L135 45 L135 38 L118 38 Q113 38 113 27.5 Q113 17 118 17 L135 17 L135 10 Z" fill="url(#goldGradient)" filter="url(#glow)"/>
                        <!-- S -->
                        <path d="M145 10 Q135 10 135 20 Q135 25 140 25 Q145 25 150 25 Q155 25 155 30 Q155 35 150 35 Q145 35 140 35 L140 42 Q150 42 160 42 Q170 42 170 32 Q170 22 160 22 Q155 22 150 22 Q145 22 145 17 Q145 12 150 12 Q155 12 160 12 Q170 12 170 22" stroke="url(#goldGradient)" stroke-width="3" fill="none" filter="url(#glow)"/>
                        <path d="M145 10 Q135 10 135 20 Q135 25 140 25 Q145 25 150 25 Q155 25 155 30 Q155 35 150 35 Q145 35 140 35 L140 42 Q150 42 160 42 Q170 42 170 32 Q170 22 160 22 Q155 22 150 22 Q145 22 145 17 Q145 12 150 12 Q155 12 160 12 Q170 12 170 22" fill="url(#goldGradient)" filter="url(#glow)"/>
                        <!-- Estrela -->
                        <path d="M180 27.5 L182 32 L186.5 32 L183 35 L184.5 40 L180 36.5 L175.5 40 L177 35 L173.5 32 L178 32 Z" fill="url(#goldGradient)" filter="url(#glow)"/>
                    </svg>
                </div>
                <div class="d-flex flex-column ms-2">
                    <span class="fw-bold precs-logo-text mb-0">PRECS</span>
                    <span class="precs-subtitle small">Sistema de Precatórios</span>
                </div>
            </a>
            <div class="d-flex gap-2 align-items-center">
                <a class="btn btn-outline-light btn-sm" href="{{ url_for('logs') }}">
                    <i class="fas fa-history me-1"></i>Logs
                </a>
                <button class="btn btn-outline-light btn-sm" onclick="openBulkEditModal()">
                    <i class="fas fa-edit me-1"></i>Edição em Massa
                </button>
                <button class="btn precs-btn-gold btn-sm" onclick="saveChanges()">
                    <i class="fas fa-save me-1"></i>Salvar
                </button>
                <button class="btn btn-outline-light btn-sm" onclick="undoChanges()">
                    <i class="fas fa-undo me-1"></i>Desfazer
                </button>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <!-- Alertas -->
        <div id="alertContainer"></div>

        <!-- Informações resumidas -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h4 class="mb-2 fw-bold text-dark">Ordem Cronológica de Precatórios</h4>
                <div class="d-flex align-items-center gap-3">
                    <div class="info-badge">
                        <i class="fas fa-database text-primary me-2"></i>
                        <span class="fw-semibold">{{ pagination.total_count }}</span>
                        <span class="text-muted ms-1">registros totais</span>
                    </div>
                    <div class="info-badge">
                        <i class="fas fa-file-alt text-info me-2"></i>
                        <span class="fw-semibold">{{ precatorios|length }}</span>
                        <span class="text-muted ms-1">nesta página</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filtros -->
        <div class="card mb-4" style="position: relative; z-index: 2;">
            <div class="card-header bg-white border-bottom">
                <h6 class="mb-0 fw-bold d-flex align-items-center">
                    <i class="fas fa-filter me-2 precs-icon"></i>
                    <span>Filtros de Busca</span>
                </h6>
            </div>
            <div class="card-body p-4">
                <form method="GET" id="filterForm" onsubmit="showFilterLoading()">
                    <div class="row g-3">
                        <div class="col-md-2">
                            <label class="form-label small fw-semibold text-muted mb-1">Precatório</label>
                            <input type="text" class="form-control form-control-sm" 
                                   name="filter_precatorio" 
                                   value="{{ filters.get('precatorio', '') }}"
                                   placeholder="Buscar...">
                        </div>
                        <div class="col-md-2">
                            <label class="form-label small fw-semibold text-muted mb-1">Ordem</label>
                            <input type="text" class="form-control form-control-sm" 
                                   name="filter_ordem" 
                                   value="{{ filters.get('ordem', '') }}"
                                   placeholder="Buscar...">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label small fw-semibold text-muted mb-1">Organização</label>
                            <div class="searchable-select-wrapper">
                                <input type="text" 
                                       class="form-control form-control-sm searchable-select-input" 
                                       id="filter_organizacao_input"
                                       placeholder="Selecione uma organização..."
                                       autocomplete="off"
                                       value="{{ filters.get('organizacao', '') if filters.get('organizacao') else '' }}">
                                <input type="hidden" 
                                       name="filter_organizacao" 
                                       id="filter_organizacao_hidden"
                                       value="{{ filters.get('organizacao', '') }}">
                                <div class="searchable-select-dropdown" id="organizacao_dropdown" style="display: none;">
                                    <div class="searchable-select-search">
                                        <input type="text" 
                                               class="form-control form-control-sm" 
                                               id="organizacao_search"
                                               placeholder="Digite para buscar..."
                                               autocomplete="off">
                                    </div>
                                    <div class="searchable-select-options" id="organizacao_options" style="max-height: 300px; overflow-y: auto;">
                                        <div class="searchable-select-option" data-value="">Todas as organizações</div>
                                        {% if filter_values.organizacao %}
                                            {% for value in filter_values.organizacao %}
                                            <div class="searchable-select-option" data-value="{{ value }}">{{ value }}</div>
                                            {% endfor %}
                                        {% else %}
                                            <div class="searchable-select-option" style="text-align: center; color: #6c757d;">
                                                <i class="fas fa-spinner fa-spin me-2"></i>Carregando...
                                            </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label small fw-semibold text-muted mb-1">Prioridade</label>
                            <select class="form-select form-select-sm" name="filter_prioridade">
                                <option value="">Todas</option>
                                {% for value in filter_values.prioridade %}
                                <option value="{{ value }}" {% if filters.get('prioridade') == value %}selected{% endif %}>{{ value }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label small fw-semibold text-muted mb-1">Natureza</label>
                            <select class="form-select form-select-sm" name="filter_natureza">
                                <option value="">Todas</option>
                                {% for value in filter_values.natureza %}
                                <option value="{{ value }}" {% if filters.get('natureza') == value %}selected{% endif %}>{{ value }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label small fw-semibold text-muted mb-1">Tribunal</label>
                            <select class="form-select form-select-sm" name="filter_tribunal">
                                <option value="">Todos</option>
                                {% for value in filter_values.tribunal %}
                                <option value="{{ value }}" {% if filters.get('tribunal') == value %}selected{% endif %}>{{ value }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label small fw-semibold text-muted mb-1">Situação</label>
                            <select class="form-select form-select-sm" name="filter_situacao">
                                <option value="">Todas</option>
                                {% for value in filter_values.situacao %}
                                <option value="{{ value }}" {% if filters.get('situacao') == value %}selected{% endif %}>{{ value }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label small fw-semibold text-muted mb-1">Ano</label>
                            <select class="form-select form-select-sm" name="filter_ano_orc">
                                <option value="">Todos</option>
                                {% for value in filter_values.ano_orc %}
                                <option value="{{ value }}" {% if filters.get('ano_orc') == value %}selected{% endif %}>{{ value }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label small fw-semibold text-muted mb-1">Regime</label>
                            <select class="form-select form-select-sm" name="filter_regime">
                                <option value="">Todos</option>
                                {% for value in filter_values.regime %}
                                <option value="{{ value }}" {% if filters.get('regime') == value %}selected{% endif %}>{{ value }}</option>
                                {% endfor %}
                            </select>
                        </div>
                            </div>
                            <div class="row g-3 mt-1">
                                <div class="col-md-3">
                                    <label class="form-label small fw-semibold text-muted mb-1">Valor até</label>
                                    <input type="number" class="form-control form-control-sm"
                                           name="filter_valor"
                                           value="{{ filters.get('valor', '') }}"
                                           placeholder="R$ 0,00"
                                           min="0"
                                           max="{{ max_valor or 0 }}"
                                           step="0.01">
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label small fw-semibold text-muted mb-1">No Pipe</label>
                                    <select class="form-select form-select-sm" name="filter_presenca_no_pipe">
                                        <option value="">Todos</option>
                                        <option value="true" {% if filters.get('presenca_no_pipe') == 'true' %}selected{% endif %}>Sim</option>
                                        <option value="false" {% if filters.get('presenca_no_pipe') == 'false' %}selected{% endif %}>Não</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label small fw-semibold text-muted mb-1">Na Ordem</label>
                                    <select class="form-select form-select-sm" name="filter_esta_na_ordem">
                                        <option value="">Todos</option>
                                        <option value="true" {% if filters.get('esta_na_ordem') == 'true' %}selected{% endif %}>Sim</option>
                                        <option value="false" {% if filters.get('esta_na_ordem') == 'false' %}selected{% endif %}>Não</option>
                                    </select>
                                </div>
                                <div class="col-md-5 d-flex align-items-end gap-2">
                                    <button type="submit" class="btn precs-btn-gold px-4">
                                        <i class="fas fa-search me-2"></i>Filtrar
                                    </button>
                                    <a href="{{ url_for('index') }}" class="btn btn-outline-secondary px-4">
                                        <i class="fas fa-times me-2"></i>Limpar
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tabela de dados -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-white border-bottom d-flex justify-content-between align-items-center">
                        <h6 class="mb-0 fw-bold d-flex align-items-center">
                            <i class="fas fa-table me-2 precs-icon"></i>
                            <span>Dados dos Precatórios</span>
                        </h6>
                        <div class="d-flex align-items-center gap-2">
                            <span class="badge precs-badge rounded-pill px-3 py-2" id="modifiedCount">
                                <i class="fas fa-edit me-1"></i>0 alterações
                            </span>
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive" style="max-height: 70vh; overflow-y: auto; position: relative;">
                            <table class="table table-striped table-hover mb-0" id="dataTable">
                                <thead class="table-header-sticky" style="background-color:#f8f9fa;color:#495057;">
                                    <tr>
                                        <th class="text-center" style="width: 50px;">
                                            <input type="checkbox" id="selectAll" onchange="toggleSelectAll()">
                                        </th>
                                        {% for field in display_fields %}
                                        {% if field.visible %}
                                        <th class="text-center sortable-header"
                                            data-field="{{ field.name }}"
                                            style="cursor: pointer;">
                                            {{ field.label }}
                                            <span class="sort-indicators ms-1">
                                                {% if sorting.field == field.name %}
                                                    {% if sorting.order == 'asc' %}
                                                        <i class="fas fa-sort-up text-primary" title="Ordenação crescente"></i>
                                                    {% else %}
                                                        <i class="fas fa-sort-down text-primary" title="Ordenação decrescente"></i>
                                                    {% endif %}
                                                {% else %}
                                                    <i class="fas fa-sort text-muted" title="Clique para ordenar"></i>
                                                {% endif %}
                                            </span>
                                        </th>
                                        {% endif %}
                                        {% endfor %}
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for precatorio in precatorios %}
                                    <tr data-precatorio="{{ precatorio.id }}">
                                        <td class="text-center">
                                            <input type="checkbox" class="row-checkbox" value="{{ precatorio.id }}">
                                        </td>
                                        {% for field in display_fields %}
                                        {% if field.visible %}
                                        <td class="text-center {% if field.name == 'situacao' or field.name == 'valor' %}col-{{ field.name }}{% endif %}" 
                                            data-field="{{ field.name }}"
                                            data-original="{{ precatorio[field.name] or '' }}"
                                            data-type="{{ field.type }}">
                                            {% if field.editable %}
                                                {% if field.type == 'character varying' %}
                                                    <input type="text" 
                                                           class="form-control form-control-sm editable-field" 
                                                           value="{{ precatorio[field.name] or '' }}"
                                                           onchange="markAsModified(this)">
                                                {% elif field.type == 'boolean' %}
                                                    <select class="form-control form-control-sm editable-field" 
                                                            onchange="markAsModified(this)">
                                                        <option value="true" {% if precatorio[field.name] %}selected{% endif %}>Sim</option>
                                                        <option value="false" {% if not precatorio[field.name] %}selected{% endif %}>Não</option>
                                                    </select>
                                                {% elif field.type == 'date' %}
                                                    <input type="date" 
                                                           class="form-control form-control-sm editable-field" 
                                                           value="{{ precatorio[field.name].strftime('%Y-%m-%d') if precatorio[field.name] else '' }}"
                                                           onchange="markAsModified(this)">
                                                {% elif field.type == 'integer' %}
                                                    <input type="number" 
                                                           class="form-control form-control-sm editable-field" 
                                                           value="{{ precatorio[field.name] or '' }}"
                                                           onchange="markAsModified(this)">
                                                {% elif field.type == 'numeric' %}
                                                    <input type="text"
                                                           class="form-control form-control-sm editable-field"
                                                           value="{{ precatorio[field.name] | currency_br }}"
                                                           onchange="markAsModified(this)"
                                                           placeholder="R$ 1.234,56">
                                                {% else %}
                                                    <span class="form-control-plaintext">{{ precatorio[field.name] or '' }}</span>
                                                {% endif %}
                                            {% else %}
                                                <span class="form-control-plaintext">
                                                    {% if field.type == 'date' and precatorio[field.name] %}
                                                        {{ precatorio[field.name].strftime('%d/%m/%Y') }}
                                                    {% elif field.type == 'boolean' %}
                                                        {% if precatorio[field.name] %}Sim{% else %}Não{% endif %}
                                                    {% elif field.type == 'numeric' %}
                                                        {{ precatorio[field.name] | currency_br }}
                                                    {% else %}
                                                        {{ precatorio[field.name] or '' }}
                                                    {% endif %}
                                                </span>
                                            {% endif %}
                                        </td>
                                        {% endif %}
                                        {% endfor %}
                                    </tr>
                                    {% endfor %}
                                    {% if not precatorios or precatorios|length == 0 %}
                                    <tr>
                                        <td colspan="12" class="text-center py-5">
                                            <i class="fas fa-inbox fa-3x text-muted mb-3"></i>
                                            <h5 class="text-muted">Nenhum precatório encontrado</h5>
                                            <p class="text-muted">Tente ajustar os filtros ou limpar para ver todos os registros.</p>
                                        </td>
                                    </tr>
                                    {% endif %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Paginação -->
        {% if pagination.total_pages > 1 %}
        <div class="row mt-3">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <nav aria-label="Paginação">
                            <ul class="pagination justify-content-center mb-0">
                                {% if pagination.has_prev %}
                                <li class="page-item">
                                    <a class="page-link" href="{{ url_for('index', **dict(request.args, page=pagination.page-1, sort=sorting.field, order=sorting.order)) }}">
                                        <i class="fas fa-chevron-left"></i> Anterior
                                    </a>
                                </li>
                                {% endif %}
                                
                                {% for page_num in range(1, pagination.total_pages + 1) %}
                                    {% if page_num == pagination.page %}
                                    <li class="page-item active">
                                        <span class="page-link">{{ page_num }}</span>
                                    </li>
                                    {% elif page_num <= 3 or page_num > pagination.total_pages - 3 or (page_num >= pagination.page - 1 and page_num <= pagination.page + 1) %}
                                    <li class="page-item">
                                        <a class="page-link" href="{{ url_for('index', **dict(request.args, page=page_num, sort=sorting.field, order=sorting.order)) }}">{{ page_num }}</a>
                                    </li>
                                    {% elif page_num == 4 and pagination.page > 5 %}
                                    <li class="page-item disabled">
                                        <span class="page-link">...</span>
                                    </li>
                                    {% elif page_num == pagination.total_pages - 3 and pagination.page < pagination.total_pages - 4 %}
                                    <li class="page-item disabled">
                                        <span class="page-link">...</span>
                                    </li>
                                    {% endif %}
                                {% endfor %}
                                
                                {% if pagination.has_next %}
                                <li class="page-item">
                                    <a class="page-link" href="{{ url_for('index', **dict(request.args, page=pagination.page+1, sort=sorting.field, order=sorting.order)) }}">
                                        Próximo <i class="fas fa-chevron-right"></i>
                                    </a>
                                </li>
                                {% endif %}
                            </ul>
                        </nav>
                        
                        <div class="text-center mt-2">
                            <small class="text-muted">
                                Página {{ pagination.page }} de {{ pagination.total_pages }} 
                                ({{ pagination.total_count }} registros totais)
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    </div>

    <!-- Modal de Edição em Massa -->
    <div class="modal fade" id="bulkEditModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-edit me-2"></i>Edição em Massa
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Registros Selecionados:</h6>
                            <div id="selectedRecords" class="border p-2 mb-3" style="max-height: 200px; overflow-y: auto;">
                                <small class="text-muted">Nenhum registro selecionado</small>
                            </div>
                            <div class="btn-group mb-2" role="group">
                                <button class="btn btn-sm btn-outline-primary" onclick="selectAllVisible()">
                                    <i class="fas fa-check-square me-1"></i>Página Atual
                                </button>
                                <button class="btn btn-sm btn-outline-success" onclick="selectAllPages()">
                                    <i class="fas fa-check-double me-1"></i>Todas as Páginas
                                </button>
                                <button class="btn btn-sm btn-outline-secondary" onclick="clearSelection()">
                                    <i class="fas fa-square me-1"></i>Limpar
                                </button>
                            </div>
                            <div class="mb-2">
                                <small class="text-muted">
                                    <i class="fas fa-info-circle me-1"></i>
                                    <span id="selectionInfo">Selecione registros para edição em massa</span>
                                </small>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h6>Campos para Atualizar:</h6>
                            <div id="editableFields">
                                <!-- Campos editáveis serão inseridos aqui via JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="confirmBulkUpdate()">
                        <i class="fas fa-save me-1"></i>Atualizar Selecionados
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de confirmação -->
    <div class="modal fade" id="confirmModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirmar Atualização</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>Deseja realmente salvar as alterações no banco de dados?</p>
                    <div id="changesSummary"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-success" onclick="confirmSave()">Confirmar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Carregando...</span>
        </div>
    </div>

    <!-- Rodapé -->
    <footer class="footer mt-5">
        <div class="footer-wave">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 100" preserveAspectRatio="none">
                <path d="M0,50 Q300,0 600,50 T1200,50 L1200,100 L0,100 Z" fill="#D2AF52" opacity="0.3"></path>
                <path d="M0,60 Q300,20 600,60 T1200,60 L1200,100 L0,100 Z" fill="#D2AF52" opacity="0.5"></path>
                <path d="M0,70 Q300,40 600,70 T1200,70 L1200,100 L0,100 Z" fill="#D2AF52"></path>
            </svg>
        </div>
        <div class="footer-content">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-4 text-center text-md-start mb-3 mb-md-0">
                        <div class="footer-logo">
                            <i class="fas fa-balance-scale footer-icon"></i>
                            <h5 class="footer-title mb-0">Sistema de Precatórios</h5>
                        </div>
                    </div>
                    <div class="col-md-4 text-center mb-3 mb-md-0">
                        <div class="footer-stats">
                            <div class="stat-item">
                                <i class="fas fa-database stat-icon"></i>
                                <span class="stat-number">{{ pagination.total_count }}</span>
                                <span class="stat-label">Registros</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 text-center text-md-end">
                        <div class="footer-info">
                            <p class="mb-0">
                                <i class="fas fa-clock"></i>
                                <span id="currentYear"></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom-bar"></div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
        // Atualizar ano atual no rodapé
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>
</html>
